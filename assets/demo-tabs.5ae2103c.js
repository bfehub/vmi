import{U as H,W as M,H as U,ag as G,X as j,t as E,x as B,ah as J,ai as re,L as q,M as Q,Y as ce,Z as x,a1 as ye,a2 as ie,aj as F,ak as ee,al as ae,am as Te,an as Ne,g as V,v as ue,ao as we,P as o,ab as I,ap as Pe,aq as Ee,ar as xe,as as de,at as Ce,B as Se,au as $e,$ as be,z as ke,av as Be,aw as se,ax as Oe,ay as ne,az as ze,aA as Re,aB as Ae,a0 as Fe,a3 as Ue,aC as De,h as Le,K as ve,a4 as Me,a5 as Y}from"./clientConfigs.dd6dee15.js";import{t as te}from"./error.faeb4fa3.js";const K={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},fe="update:modelValue",me=e=>e,W=Symbol("tabsRootContextKey"),Ve=H({tabs:{type:M(Array),default:()=>me([])}}),Ie={name:"ElTabBar"},Ke=U({...Ie,props:Ve,setup(e,{expose:r}){const S=e,N="ElTabBar",n=ee(),y=G(W);y||te(N,"<el-tabs><el-tab-bar /></el-tabs>");const m=j("tabs"),u=E(),p=E(),d=()=>{let l=0,C=0;const _=["top","bottom"].includes(y.props.tabPosition)?"width":"height",c=_==="width"?"x":"y";return S.tabs.every(t=>{var h,v,$,O;const z=(v=(h=n.parent)==null?void 0:h.refs)==null?void 0:v[`tab-${t.paneName}`];if(!z)return!1;if(!t.active)return!0;C=z[`client${F(_)}`];const D=c==="x"?"left":"top";l=z.getBoundingClientRect()[D]-((O=($=z.parentElement)==null?void 0:$.getBoundingClientRect()[D])!=null?O:0);const R=window.getComputedStyle(z);return _==="width"&&(S.tabs.length>1&&(C-=Number.parseFloat(R.paddingLeft)+Number.parseFloat(R.paddingRight)),l+=Number.parseFloat(R.paddingLeft)),!1}),{[_]:`${C}px`,transform:`translate${F(c)}(${l}px)`}},b=()=>p.value=d();return B(()=>S.tabs,async()=>{await J(),b()},{immediate:!0}),re(u,()=>b()),r({ref:u,update:b}),(l,C)=>(q(),Q("div",{ref_key:"barRef",ref:u,class:ce([x(m).e("active-bar"),x(m).is(x(y).props.tabPosition)]),style:ye(p.value)},null,6))}});var He=ie(Ke,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const je=H({panes:{type:M(Array),default:()=>me([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:M(Function),default:ae},onTabRemove:{type:M(Function),default:ae},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),le="ElTabNav",qe=U({name:le,props:je,setup(e,{expose:r}){const S=ee(),N=G(W);N||te(le,"<el-tabs><tab-nav /></el-tabs>");const n=j("tabs"),y=Te(),m=Ne(),u=E(),p=E(),d=E(),b=E(!1),l=E(0),C=E(!1),_=E(!0),c=V(()=>["top","bottom"].includes(N.props.tabPosition)?"width":"height"),t=V(()=>({transform:`translate${c.value==="width"?"X":"Y"}(-${l.value}px)`})),h=()=>{if(!u.value)return;const a=u.value[`offset${F(c.value)}`],i=l.value;if(!i)return;const s=i>a?i-a:0;l.value=s},v=()=>{if(!u.value||!p.value)return;const a=p.value[`offset${F(c.value)}`],i=u.value[`offset${F(c.value)}`],s=l.value;if(a-s<=i)return;const w=a-s>i*2?s+i:a-i;l.value=w},$=async()=>{const a=p.value;if(!b.value||!d.value||!u.value||!a)return;await J();const i=d.value.querySelector(".is-active");if(!i)return;const s=u.value,w=["top","bottom"].includes(N.props.tabPosition),T=i.getBoundingClientRect(),g=s.getBoundingClientRect(),k=w?a.offsetWidth-g.width:a.offsetHeight-g.height,P=l.value;let f=P;w?(T.left<g.left&&(f=P-(g.left-T.left)),T.right>g.right&&(f=P+T.right-g.right)):(T.top<g.top&&(f=P-(g.top-T.top)),T.bottom>g.bottom&&(f=P+(T.bottom-g.bottom))),f=Math.max(f,0),l.value=Math.min(f,k)},O=()=>{if(!p.value||!u.value)return;const a=p.value[`offset${F(c.value)}`],i=u.value[`offset${F(c.value)}`],s=l.value;if(i<a){const w=l.value;b.value=b.value||{},b.value.prev=w,b.value.next=w+i<a,a-w<i&&(l.value=a-i)}else b.value=!1,s>0&&(l.value=0)},z=a=>{const i=a.code,{up:s,down:w,left:T,right:g}=K;if(![s,w,T,g].includes(i))return;const k=Array.from(a.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),P=k.indexOf(a.target);let f;i===T||i===s?P===0?f=k.length-1:f=P-1:P<k.length-1?f=P+1:f=0,k[f].focus(),k[f].click(),D()},D=()=>{_.value&&(C.value=!0)},R=()=>C.value=!1;return B(y,a=>{a==="hidden"?_.value=!1:a==="visible"&&setTimeout(()=>_.value=!0,50)}),B(m,a=>{a?setTimeout(()=>_.value=!0,50):_.value=!1}),re(d,O),ue(()=>setTimeout(()=>$(),0)),we(()=>O()),r({scrollToActiveTab:$,removeFocus:R}),B(()=>e.panes,()=>S.update(),{flush:"post"}),()=>{const a=b.value?[o("span",{class:[n.e("nav-prev"),n.is("disabled",!b.value.prev)],onClick:h},[o(I,null,{default:()=>[o(Pe,null,null)]})]),o("span",{class:[n.e("nav-next"),n.is("disabled",!b.value.next)],onClick:v},[o(I,null,{default:()=>[o(Ee,null,null)]})])]:null,i=e.panes.map((s,w)=>{var T,g,k,P;const f=s.props.disabled,L=(g=(T=s.props.name)!=null?T:s.index)!=null?g:`${w}`,X=!f&&(s.isClosable||e.editable);s.index=`${w}`;const _e=X?o(I,{class:"is-icon-close",onClick:A=>e.onTabRemove(s,A)},{default:()=>[o(xe,null,null)]}):null,he=((P=(k=s.slots).label)==null?void 0:P.call(k))||s.props.label,ge=!f&&s.active?0:-1;return o("div",{ref:`tab-${L}`,class:[n.e("item"),n.is(N.props.tabPosition),n.is("active",s.active),n.is("disabled",f),n.is("closable",X),n.is("focus",C.value)],id:`tab-${L}`,key:`tab-${L}`,"aria-controls":`pane-${L}`,role:"tab","aria-selected":s.active,tabindex:ge,onFocus:()=>D(),onBlur:()=>R(),onClick:A=>{R(),e.onTabClick(s,L,A)},onKeydown:A=>{X&&(A.code===K.delete||A.code===K.backspace)&&e.onTabRemove(s,A)}},[he,_e])});return o("div",{ref:d,class:[n.e("nav-wrap"),n.is("scrollable",!!b.value),n.is(N.props.tabPosition)]},[a,o("div",{class:n.e("nav-scroll"),ref:u},[o("div",{class:[n.e("nav"),n.is(N.props.tabPosition),n.is("stretch",e.stretch&&["top","bottom"].includes(N.props.tabPosition))],ref:p,style:t.value,role:"tablist",onKeydown:z},[e.type?null:o(He,{tabs:[...e.panes]},null),i])])])}}}),We=H({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:M(Function),default:()=>!0},stretch:Boolean}),Z=e=>ke(e)||Be(e),Xe={[fe]:e=>Z(e),"tab-click":(e,r)=>r instanceof Event,"tab-change":e=>Z(e),edit:(e,r)=>["remove","add"].includes(r),"tab-remove":e=>Z(e),"tab-add":()=>!0};var Ye=U({name:"ElTabs",props:We,emits:Xe,setup(e,{emit:r,slots:S,expose:N}){var n,y;const m=j("tabs"),u=E(),p=de({}),d=E((y=(n=e.modelValue)!=null?n:e.activeName)!=null?y:"0"),b=t=>{d.value=t,r(fe,t),r("tab-change",t)},l=async t=>{var h,v,$;if(!(d.value===t||se(t)))try{await((h=e.beforeLeave)==null?void 0:h.call(e,t,d.value))!==!1&&(b(t),($=(v=u.value)==null?void 0:v.removeFocus)==null||$.call(v))}catch{}},C=(t,h,v)=>{t.props.disabled||(l(h),r("tab-click",t,v))},_=(t,h)=>{t.props.disabled||se(t.props.name)||(h.stopPropagation(),r("edit",t.props.name,"remove"),r("tab-remove",t.props.name))},c=()=>{r("edit",void 0,"add"),r("tab-add")};return Ce({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},V(()=>!!e.activeName)),B(()=>e.activeName,t=>l(t)),B(()=>e.modelValue,t=>l(t)),B(d,async()=>{var t;await J(),(t=u.value)==null||t.scrollToActiveTab()}),Se(W,{props:e,currentName:d,registerPane:v=>p[v.uid]=v,unregisterPane:v=>delete p[v]}),N({currentName:d}),()=>{const t=e.editable||e.addable?o("span",{class:m.e("new-tab"),tabindex:"0",onClick:c,onKeydown:$=>{$.code===K.enter&&c()}},[o(I,{class:m.is("icon-plus")},{default:()=>[o($e,null,null)]})]):null,h=o("div",{class:[m.e("header"),m.is(e.tabPosition)]},[t,o(qe,{ref:u,currentName:d.value,editable:e.editable,type:e.type,panes:Object.values(p),stretch:e.stretch,onTabClick:C,onTabRemove:_},null)]),v=o("div",{class:m.e("content")},[be(S,"default")]);return o("div",{class:[m.b(),m.m(e.tabPosition),{[m.m("card")]:e.type==="card",[m.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[h,v]:[v,h]])}}});const Ze=H({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Ge=["id","aria-hidden","aria-labelledby"],Je={name:"ElTabPane"},Qe=U({...Je,props:Ze,setup(e){const r=e,S="ElTabPane",N=ee(),n=Oe(),y=G(W);y||te(S,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const m=j("tab-pane"),u=E(),p=V(()=>r.closable||y.props.closable),d=ne(()=>{var c;return y.currentName.value===((c=r.name)!=null?c:u.value)}),b=E(d.value),l=V(()=>{var c;return(c=r.name)!=null?c:u.value}),C=ne(()=>!r.lazy||b.value||d.value);B(d,c=>{c&&(b.value=!0)});const _=de({uid:N.uid,slots:n,props:r,paneName:l,active:d,index:u,isClosable:p});return ue(()=>{y.registerPane(_)}),ze(()=>{y.unregisterPane(_.uid)}),(c,t)=>x(C)?Re((q(),Q("div",{key:0,id:`pane-${x(l)}`,class:ce(x(m).b()),role:"tabpanel","aria-hidden":!x(d),"aria-labelledby":`tab-${x(l)}`},[be(c.$slots,"default")],10,Ge)),[[Ae,x(d)]]):Fe("v-if",!0)}});var pe=ie(Qe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const et=Ue(Ye,{TabPane:pe}),oe=De(pe);var tt=U({setup(){return()=>Le("div","Task")}});const at={};function st(e,r){return q(),Q("div",null,"User")}var nt=ve(at,[["render",st],["__file","demo-tabs-user.vue"]]);const lt=U({__name:"demo-tabs",setup(e){return(r,S)=>(q(),Me(x(et),{type:"border-card"},{default:Y(()=>[o(x(oe),{label:"Task"},{default:Y(()=>[o(x(tt))]),_:1}),o(x(oe),{label:"User"},{default:Y(()=>[o(nt)]),_:1})]),_:1}))}});var ct=ve(lt,[["__file","demo-tabs.vue"]]);export{ct as default};
